import{r as a,c as e,w as s,p as l,i as t,o as u,b as n,a as c,t as o,f as r,d as i,e as p,F as f,q as v,u as d,v as m,k as _,s as g,l as k}from"./index-noCr3kf8.js";import{o as h}from"./uni-app.es.BdGBXyGY.js";import{_ as A}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C="https://tse3-mm.cn.bing.net/th/id/OIP-C.MpGc1WMpmJATpTSKSG-3ogAAAA?w=163&h=176&c=7&r=0&o=7&cb=ucfimg2&pid=1.7&rm=3&ucfimg=1",b=A({__name:"mine",setup(A){const b=a(!1),w=a({name:"",phone:"",avatar:C}),y=a([{title:"账号与安全",page:"/pages/account/account"},{title:"上传人脸信息",page:"/pages/upload-face/upload-face"}]),j=()=>{const a=l("userinfo");a?(b.value=!0,w.value={...a,avatar:a.avatar||C}):(b.value=!1,w.value={name:"",phone:"",avatar:C})},x=()=>{b.value||v({url:"/pages/login/login"})},G=()=>{d({title:"提示",content:"确定退出登录吗？",success:a=>{a.confirm&&(m("userinfo"),j())}})};return h((()=>{j()})),(a,l)=>{const d=_,m=t,h=k;return u(),e(m,{class:"mine-page"},{default:s((()=>[n(m,{class:"user-card",onClick:x},{default:s((()=>[n(d,{class:"avatar",src:b.value?w.value.avatar:C},null,8,["src"]),n(m,{class:"user-info"},{default:s((()=>[n(m,{class:"nickname"},{default:s((()=>[c(o(b.value?w.value.name:"点击登录 / 注册"),1)])),_:1}),b.value?(u(),e(m,{key:0,class:"desc"},{default:s((()=>[c(o(w.value.phone),1)])),_:1})):r("",!0)])),_:1}),b.value?r("",!0):(u(),e(m,{key:0,class:"arrow"},{default:s((()=>[c("›")])),_:1}))])),_:1}),n(m,{class:"menu-list"},{default:s((()=>[(u(!0),i(f,null,p(y.value,(a=>(u(),e(m,{class:"menu-item",key:a.title,onClick:e=>(a=>{b.value?a.page&&v({url:a.page}):g({title:"请先登录",icon:"none"})})(a)},{default:s((()=>[n(h,null,{default:s((()=>[c(o(a.title),1)])),_:2},1024),n(h,{class:"arrow"},{default:s((()=>[c("›")])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}),b.value?(u(),e(m,{key:0,class:"logout",onClick:G},{default:s((()=>[c(" 退出登录 ")])),_:1})):r("",!0)])),_:1})}}},[["__scopeId","data-v-cab7e95d"]]);export{b as default};
