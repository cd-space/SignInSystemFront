import{r as e,c as a,w as l,i as s,o as t,b as o,a as u,t as c,s as d,p as n,v as r,C as i,I as p,j as v}from"./index-noCr3kf8.js";import{c as m}from"./auth.CvfJiFAY.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _=f({__name:"account",setup(f){const _=e(""),h=e(""),y=e(!1),w=e(!1),V=()=>{y.value=!y.value},x=()=>{w.value=!w.value},b=async()=>{if(!_.value||!h.value)return void d({title:"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯",icon:"none"});const e=n("userinfo");try{await m({old_password:_.value,new_password:h.value,id:null==e?void 0:e.id});d({title:"ä¿®æ”¹æˆåŠŸ",icon:"success"}),r("userinfo"),setTimeout((()=>{i()}),800)}catch(a){d({title:(null==a?void 0:a.message)||"ä¿®æ”¹å¤±è´¥",icon:"none"})}};return(e,d)=>{const n=s,r=p,i=v;return t(),a(n,{class:"account-page"},{default:l((()=>[o(n,{class:"title"},{default:l((()=>[u("ä¿®æ”¹å¯†ç ")])),_:1}),o(n,{class:"form-item"},{default:l((()=>[o(r,{modelValue:_.value,"onUpdate:modelValue":d[0]||(d[0]=e=>_.value=e),type:y.value?"text":"password",placeholder:"è¯·è¾“å…¥åŸå¯†ç ","placeholder-class":"placeholder"},null,8,["modelValue","type"]),o(n,{class:"eye",onClick:V},{default:l((()=>[u(c(y.value?"ğŸ‘":"ğŸ™ˆ"),1)])),_:1})])),_:1}),o(n,{class:"form-item"},{default:l((()=>[o(r,{modelValue:h.value,"onUpdate:modelValue":d[1]||(d[1]=e=>h.value=e),type:w.value?"text":"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ","placeholder-class":"placeholder"},null,8,["modelValue","type"]),o(n,{class:"eye",onClick:x},{default:l((()=>[u(c(w.value?"ğŸ‘":"ğŸ™ˆ"),1)])),_:1})])),_:1}),o(i,{class:"btn",onClick:b},{default:l((()=>[u(" æäº¤ ")])),_:1})])),_:1})}}},[["__scopeId","data-v-49d305b7"]]);export{_ as default};
