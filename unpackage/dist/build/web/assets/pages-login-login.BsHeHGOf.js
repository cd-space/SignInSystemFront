import{r as e,c as a,w as l,i as s,o as t,b as o,a as u,t as r,s as c,A as d,B as n,q as i,I as p,j as m,l as f}from"./index-noCr3kf8.js";import{l as v}from"./auth.CvfJiFAY.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=_({__name:"login",setup(_){const h=e(""),g=e(""),V=e(!1),b=()=>{V.value=!V.value},w=async()=>{if(!h.value||!g.value)return void c({title:"è¯·è¾“å…¥å®Œæ•´ä¿¡æ¯",icon:"none"});const e=/^1[3-9]\d{9}$/.test(h.value)?{phone:h.value,password:g.value}:{student_id:h.value,password:g.value};try{const a=await v(e);d("userinfo",a),c({title:"ç™»å½•æˆåŠŸ",icon:"success"}),n({url:"/pages/mine/mine"})}catch(a){console.log("ç™»å½•å¤±è´¥",a)}},y=()=>{i({url:"/pages/register/register"})};return(e,c)=>{const d=s,n=p,i=m,v=f;return t(),a(d,{class:"login-page"},{default:l((()=>[o(d,{class:"title"},{default:l((()=>[u("æ¬¢è¿Žç™»å½•")])),_:1}),o(d,{class:"form-item"},{default:l((()=>[o(n,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=e=>h.value=e),placeholder:"è¯·è¾“å…¥æ‰‹æœºå·æˆ–å­¦å·","placeholder-class":"placeholder"},null,8,["modelValue"])])),_:1}),o(d,{class:"form-item"},{default:l((()=>[o(n,{modelValue:g.value,"onUpdate:modelValue":c[1]||(c[1]=e=>g.value=e),type:V.value?"text":"password",placeholder:"è¯·è¾“å…¥å¯†ç ","placeholder-class":"placeholder"},null,8,["modelValue","type"]),o(d,{class:"eye",onClick:b},{default:l((()=>[u(r(V.value?"ðŸ‘":"ï¸ðŸ™ˆ"),1)])),_:1})])),_:1}),o(i,{class:"btn",onClick:w},{default:l((()=>[u(" ç™»å½• ")])),_:1}),o(d,{class:"footer"},{default:l((()=>[u(" è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ "),o(v,{class:"link",onClick:y},{default:l((()=>[u("åŽ»æ³¨å†Œ")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b3f5a35b"]]);export{h as default};
