{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const BASE_URL = 'http://192.168.137.26:8000'\n\nexport const request = (options) => {\n  return new Promise((resolve, reject) => {\n    uni.request({\n      url: BASE_URL + options.url,\n      method: options.method || 'GET',\n      data: options.data || {},\n      header: {\n        'Content-Type': 'application/json',\n        ...options.header\n      },\n\n      success: (res) => {\n        /**\n         * 后端统一返回：\n         * {\n         *   code: number,\n         *   msg: string,\n         *   data: any\n         * }\n         */\n        const { code, message, data } = res.data || {}\n\n        if (code == 200) {\n          resolve(data)\n        } else {\n          uni.showToast({\n            title: message || '请求失败',\n            icon: 'none'\n          })\n          reject(res.data)\n        }\n      },\n\n      fail: (err) => {\n        uni.showToast({\n          title: '网络异常',\n          icon: 'none'\n        })\n        reject(err)\n      }\n    })\n  })\n}\n"],"names":["uni"],"mappings":";;AAAA,MAAM,WAAW;AAEL,MAAC,UAAU,CAAC,YAAY;AAClC,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCA,kBAAAA,MAAI,QAAQ;AAAA,MACV,KAAK,WAAW,QAAQ;AAAA,MACxB,QAAQ,QAAQ,UAAU;AAAA,MAC1B,MAAM,QAAQ,QAAQ,CAAE;AAAA,MACxB,QAAQ;AAAA,QACN,gBAAgB;AAAA,QAChB,GAAG,QAAQ;AAAA,MACZ;AAAA,MAED,SAAS,CAAC,QAAQ;AAShB,cAAM,EAAE,MAAM,SAAS,KAAI,IAAK,IAAI,QAAQ,CAAE;AAE9C,YAAI,QAAQ,KAAK;AACf,kBAAQ,IAAI;AAAA,QACtB,OAAe;AACLA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO,WAAW;AAAA,YAClB,MAAM;AAAA,UAClB,CAAW;AACD,iBAAO,IAAI,IAAI;AAAA,QAChB;AAAA,MACF;AAAA,MAED,MAAM,CAAC,QAAQ;AACbA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QAChB,CAAS;AACD,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;"}